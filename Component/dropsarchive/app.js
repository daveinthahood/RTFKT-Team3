const state = {
  cards: [
    {
      id: "1",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "1/10000",
      creator: {
        title: "@VIII",
        img: "../../Asset/image/VIII.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "2",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "2/10000",
      creator: {
        title: "@PETIO",
        img: "../../Asset/image/Petio.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "3",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "3/10000",
      creator: {
        title: "@RTFKT x NIKE",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "4",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "4/10000",
      creator: {
        title: "@RTFKT x NIKE",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "5",
      logo: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card8.mp4",
      title: "Undead Hoodie",
      amount: "1/1000",
      creator: {
        title: "@MURAKAMI x RTFKT",
        img: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "6",
      logo: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card7.mp4",
      title: "Murakami Drip T-Shirt",
      amount: "2/196",
      creator: {
        title: "@MURAKAMI x RTFKT",
        img: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "7",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card5.mp4",
      title: "MMGXS",
      amount: "12/1000",
      creator: {
        title: "@MGXS",
        img: "../../Asset/image/MGXS.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "8",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card5.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "2/1000",
      creator: {
        title: "@MGXS",
        img: "../../Asset/image/MGXS.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "9",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card5.mp4",
      title: "MGXS",
      amount: "3/1000",
      creator: {
        title: "@MGXS",
        img: "../../Asset/image/MGXS.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "10",
      logo: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card6.mp4",
      title: "Undead Pants",
      amount: "3/1000",
      creator: {
        title: "@SEAN WILLIAMS",
        img: "../../Asset/image/Sean-Williams.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "11",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card6.mp4",
      title: "Reptille Pants",
      amount: "1/121",
      creator: {
        title: "@RETROCOIN",
        img: "../../Asset/image/Retrocoin.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "12",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card6.mp4",
      title: "Murakami DNA Pants",
      amount: "2/1000",
      creator: {
        title: "@MURAKAMI x RTFKT",
        img: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "13",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card 2.mp4",
      title: "SKIN VIAL EVO",
      amount: "1/1000",
      creator: {
        title: "@RTFKT",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "14",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "6/1000",
      creator: {
        title: "@RTFKT",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "15",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "10/1928",
      creator: {
        title: "@RTFKT",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "16",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "10/1875",
      creator: {
        title: "@N804D",
        img: "../../Asset/image/NB04D.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "17",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card7.mp4",
      title: "Reptille T-Shirt",
      amount: "2/1000",
      creator: {
        title: "@MURAKAMI x RTFKT",
        img: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "18",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card7.mp4",
      title: "Human T-Shirt",
      amount: "1/1000",
      creator: {
        title: "@MURAKAMI x RTFKT",
        img: "../../Asset/image/MURAKAMI-x-RTFKTCreat.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "19",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card 2.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "5/1000",
      creator: {
        title: "@RTFKT",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "20",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card6.mp4",
      title: "Angel Pants",
      amount: "3/1000",
      creator: {
        title: "@RTFKT x SUPERRARE",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "21",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card6.mp4",
      title: "Demon Pants",
      amount: "1/10",
      creator: {
        title: "@RTFKT x SUPERRARE",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Wearable",
        img: "../../Asset/image/wearable.jpg",
      },
    },
    {
      id: "22",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card5.mp4",
      title: "RTFKT x BOX",
      amount: "2/1000",
      creator: {
        title: "@RTFKT x BOX",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "23",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card5.mp4",
      title: "RTFKT x Nike BOX",
      amount: "2/100",
      creator: {
        title: "@RTFKT x BOX",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "24",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card5.mp4",
      title: "RTFKT x BOX ADIDAS",
      amount: "6/1000",
      creator: {
        title: "@RTFKT x BOX",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "25",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x NIKE",
      amount: "2/1000",
      creator: {
        title: "@RTFKT",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "26",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card1.mp4",
      title: "RTFKT x Nike Dunk Genesis",
      amount: "2/1000",
      creator: {
        title: "@RTFKT",
        img: "../../Asset/image/RTFKT.jpg",
      },
      categories: {
        title: "Sneakers",
        img: "../../Asset/image/RTFKT.jpg",
      },
    },
    {
      id: "27",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card 2.mp4",
      title: "RTFKT x Toys x GRINKER",
      amount: "1/1",
      creator: {
        title: "@GRINKER",
        img: "../../Asset/image/GuiMarconi.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "28",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card 2.mp4",
      title: "RTFKT x Toys x SBRILLY",
      amount: "1/1",
      creator: {
        title: "@SBRILLY",
        img: "../../Asset/image/ZOME.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "29",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card 2.mp4",
      title: "RTFKT x Toys x WHOISDAVE",
      amount: "1/1",
      creator: {
        title: "@WHOISDAVE",
        img: "../../Asset/image/Zaid.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
    {
      id: "30",
      logo: "../../Asset/image/blank-profile.jpg",
      headTitle: "@RTFKT",
      video: "../../Asset/Video/Card 2.mp4",
      title: "RTFKT x Toys x Andrew",
      amount: "1/1",
      creator: {
        title: "@ANDREW",
        img: "../../Asset/image/ClegFX.jpg",
      },
      categories: {
        title: "Toys",
        img: "../../Asset/image/toys.jpg",
      },
    },
  ],
};

const $menu = document.querySelector(".aside");
const $creators = document.querySelector("#creators");
const $categories = document.querySelector(".categories");
const $section = document.querySelector(".section__shop__main");

const $hideButton = document.querySelector("#hide");
const $buttonShow = document.querySelector("#show");
const $buttonSearch = document.querySelector("#searchbtn");
const $inputSearch = document.querySelector("#searchbox");

const $buttonCloseSrc = document.querySelector("#clssrcbtn");
const $clearCat = document.querySelector("#clearcat");
const $showCat = document.querySelector("#showcat");
const $showCreat = document.querySelector("#showcreat");
const $clearCreat = document.querySelector("#clearcreat");
const $large = document.querySelector("#large");
const $small = document.querySelector("#small");

document.addEventListener("click", (event) => {
  const target = event.target;

  if (target.classList.contains("small")) {
    $large.classList.add("transparent");
    $small.classList.remove("transparent");
    $small.style.transform = "scale(1.1)";
    $large.style.transform = "";
    [...document.querySelectorAll(".section__shop__main__card")].forEach(
      (el) => {
        el.style.flex = "1 0 30%";
      }
    );
  }

  if (target.classList.contains("large")) {
    $small.classList.add("transparent");
    $large.classList.remove("transparent");
    $large.style.transform = "scale(1.1)";
    $small.style.transform = "";
    [...document.querySelectorAll(".section__shop__main__card")].forEach(
      (el) => {
        el.style.flex = "1 0 45%";
      }
    );
  }
});

//*nasconde il menù filtri
$hideButton.addEventListener("click", () => {
  $menu.style.display = $menu.style.display === "flex" ? "none" : "flex";
  $buttonShow.style.display =
    $buttonShow.style.display === "none" ? "block" : "none";
  // $buttonSearch.style.right = "-30px";
  // $inputSearch.style.right = "-33px";
});

//*mostra il emnu filtri
$buttonShow.addEventListener("click", () => {
  $menu.style.display = $menu.style.display === "none" ? "flex" : "none";
  $buttonShow.style.display =
    $buttonShow.style.display === "block" ? "none" : "block";
});
//* animazione input ricerca apertura
$buttonSearch.addEventListener("click", () => {
  $inputSearch.style.transform = "translateX(1)";
  $inputSearch.style.opacity = "1";
  // $buttonSearch.style.display = "none";
  $buttonCloseSrc.style.display = "block";
});

//* animazione input ricerca chiusura
$buttonCloseSrc.addEventListener("click", () => {
  $inputSearch.style.transform = "";
  $inputSearch.style.opacity = "";
  $buttonCloseSrc.style.display = "none";
});

$clearCat.addEventListener("click", () => {
  $categories.style.display = "none";
});

$showCat.addEventListener("click", () => {
  $categories.style.display = "flex";
});

$clearCreat.addEventListener("click", () => {
  $creators.style.display = "none";
});
$showCreat.addEventListener("click", () => {
  $creators.style.display = "flex";
});

const generateCard = (card) => {
  return `
    <div class="section__shop__main__card" data-id="${card.id}">
    <!-- CARD TITLE -->
    <div  class="section__shop__main__card-title">
      <img src="../../Asset/image/blank-profile.jpg" alt="" />
      <span> ${card.headTitle}</span>
    </div>
    <!--  CARD VID -->
    <div class="section__shop__main__card-vid">
      <video autoplay muted loop plays-inline>
        <source src="${card.video}" type="video/mp4" />
      </video>
    </div>
    <!-- CARD FOOTER -->
    <div class="section__shop__main__card-footer">
      <div class="section__shop__main__card-footer-title">
      ${card.title}
      </div>
      <div class="section__shop__main__card-footer-description">${card.amount}</div>
    </div>
  </div>
    `;
};

const generateCreatorBtn = (item) => {
  return `
  <button class="button--filter" data-id=${item.creator.title}>
  <img src=${item.creator.pic} />
  <span>${item.creator.title}</span>
  </button>
  `;
};
const generateCategoriesBtn = (item) => {
  return `
  <button class="button--filter" data-id=${item.categories.title}>
  <img src=${item.categories.pic} />
  <span>${item.categories.title}</span>
  </button>
  `;
};

const cleanArray = (array) => {
  let uniqueValues = [];
  for (let i = 0; i < array.length; i++) {
    let currentItem = array[i];
    if (uniqueValues.indexOf(currentItem) === false) {
      uniqueValues.push(currentItem);
}}
  return uniqueValues;
}
const renderCreatorsBtn = (items) => {
  const HTML =[...items].map((item) => generateCreatorBtn(item)).join("");
  $creators.innerHTML = HTML;
};
const renderCategoriesBtn = (items) => {
  const HTML =[...items].map((item) => generateCategoriesBtn(item)).join("");
  $categories.innerHTML = HTML;
};
const renderHTML = (cards) => {
  const HTML = [...cards].map((card) => generateCard(card));
  $section.innerHTML = HTML;
};

const init = () => {
  renderHTML(state.cards);
  renderCreatorsBtn(state.cards);
  renderCategoriesBtn(state.cards);
};
init();
